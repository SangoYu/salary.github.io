<!DOCTYPE html>
<html>
<head>
	<title>Show Data</title>
	<meta charset="utf-8">
	<link href="assets/bootstrap.min.css" rel="stylesheet">

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<script>
	  (adsbygoogle = window.adsbygoogle || []).push({
	    google_ad_client: "ca-pub-4798747605001281",
	    enable_page_level_ads: true
	  });
	</script>

</head>
<body ng-app='app'>
	<div ng-controller="myController">
	<div style="text-align: center">今日一共<span ng-bind="list.length"></span>条访问</div>
		<table class="table table-bordered table-hover table-striped">
			<thead>
				<tr>
					<th>Id</th>
					<th>Ip</th>
					<th>Page</th>
					<th>Time</th>
					<th>Visits</th>
					<th>updatedAt</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="item in list">
					<td ng-bind="item.id"></td>
					<td ng-bind="item.ip"></td>
					<td ng-bind="item.page"></td>
					<td ng-bind="item.time | date:'yyyy-MM-dd HH:mm:ss'"></td>
					<td ng-bind="item.visits"></td>
					<td ng-bind="item.updatedAt |date:'yyyy-MM-dd HH:mm:ss'"></td>
				</tr>
			</tbody>
		</table>
	</div>
	<script src="assets/jquery.min.js"></script>
	<script src="assets/angular.min.js"></script>
	<script type="text/javascript">
		angular.module('app',[]).controller('myController',function($scope, $http){
			$http.get('visits').success(function(res){
				if(res){
					$scope.list = res;
				}
			});
		});
	</script>
</body>
</html>